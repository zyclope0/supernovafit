Module,Fonction/Hook,Rôle,Dépendances Clés,Couplage,Complexité Approx,Tests Présents,Notes
src/hooks/useAuth.ts,useAuth,"Auth Firebase, gestion session, profil utilisateur","firebase/auth, useFirebaseError",Moyen (hooks),Moyenne (150 LOC),Oui (Jest simple),"Cookie auth pour middleware, magic link supporté"
src/hooks/useFirestore.ts,useFirestore,"CRUD Firestore générique, real-time sync","firebase/firestore, onSnapshot",Faible (générique),Élevée (200+ LOC),Non (CRITIQUE),"Hook central, utilisé partout, 0% coverage!"
src/hooks/useEnergyBalance.ts,useEnergyBalance,Calcul balance énergétique quotidienne,"useFirestore (repas, entrainements)",Moyen,Moyenne,Oui (Jest avancé 100%),"Calculs TDEE - BMR - intake - outtake"
src/hooks/useChallenges.ts,useChallenges,Gestion challenges utilisateur,"useFirestore, challengeTracker",Moyen,Moyenne,Oui (Jest simple),50 challenges prédéfinis
src/hooks/useChallengeTracker.ts,useChallengeTracker,Tracking automatique progression challenges,"Firestore, challengeTracking lib",Élevé,Élevée (complexe),Oui (Jest avancé 83.57%),Système de gamification
src/hooks/useExportData.ts,useExportData,Export données CSV/PDF/Excel,"jspdf, exceljs, papaparse",Faible,Moyenne,Oui (Jest avancé 99.31%),"Dynamic imports, 15 tests"
src/hooks/useNotifications.ts,useNotifications,Firebase Cloud Messaging (FCM),"firebase/messaging, Notification API",Moyen,Élevée,Oui (Jest simple),VAPID key configurée
src/hooks/useInvites.ts,useInvites,Système invitations coach-athlète,"Firestore (invites, users)",Moyen,Faible,Oui (Jest simple),Codes invitation uniques
src/hooks/useCoachAnalytics.ts,useCoachAnalytics,Analytics basiques coach (deprecated?),Firestore,Faible,Faible,Oui (Jest simple),"Voir useCoachRealAnalytics, duplication?"
src/hooks/useCoachRealAnalytics.ts,useCoachRealAnalytics,Analytics détaillées coach (production),Firestore (35 console.log!),Élevé,Très élevée,Non,"CRITIQUE: 35 console.log, 19 eslint-disable, 35 any!"
src/hooks/useCoachAnalyticsEnhanced.ts,useCoachAnalyticsEnhanced,Analytics enrichies coach (3ème version?),Firestore,Élevé,Très élevée,Non,"DUPLICATION: 3 hooks analytics coach, à consolider"
src/hooks/usePWA.ts,usePWA,Gestion PWA (install prompt),Navigator API,Faible,Faible,Non,Détection support PWA
src/hooks/useNutritionImport.ts,useNutritionImport,Import fichiers nutrition (CSV/Excel),"exceljs, papaparse",Moyen,Moyenne,Non,Parsing formats multiples
src/hooks/useQuickActions.ts,useQuickActions,Quick actions modals (mobile),useState,Faible,Faible,Non,"QuickMeal, QuickTraining, QuickWeight"
src/hooks/useFirebaseError.ts,useFirebaseError,Gestion erreurs Firebase centralisée,firebase-errors.ts,Faible,Faible,Non,Messages d'erreur traduits FR
src/hooks/useAriaAnnouncer.ts,useAriaAnnouncer,Accessibilité ARIA live regions,N/A,Faible,Faible,Non,Support screen readers
src/hooks/useFocusTrap.ts,useFocusTrap,Trap focus dans modals (accessibilité),N/A,Faible,Faible,Non,WCAG 2.1 AA
src/lib/firebase.ts,initializeApp + services,"Init Firebase (auth, db, storage, messaging)",firebase SDK,CRITIQUE,Faible,Non,"Validation config obligatoire, SSR-safe"
src/lib/dateUtils.ts,timestampToDateString,Conversion Timestamp → String ISO,date-fns,Faible,Faible,Oui (Vitest 25.8%),"CRITIQUE: utilisé pour graphiques, bug si mauvais format"
src/lib/validation.ts,Zod schemas,Validation données Firestore,zod,Faible,Moyenne,Oui (Vitest 93.18%),"21 schemas, 100+ règles"
src/lib/userCalculations.ts,"calculateBMR, calculateTDEE, calculateIMC",Formules fitness (Harris-Benedict),N/A,Faible,Faible,Non,Calculs métabolisme
src/lib/challenges.ts,50 challenges definitions,Définitions challenges statiques,N/A,Faible,Faible,Non,"Types: nutrition, training, consistency, exploration"
src/lib/challengeTracking/*,Tracking automatique challenges,"Firestore, calculations",Moyen,Élevée,Oui (Vitest 97.89%),6 fichiers modulaires
src/lib/badges.ts,Système de badges,Badges achievements gamification,N/A,Faible,Faible,Non,Unlock automatique
src/lib/logger.ts,Logger custom,Logs structurés + Sentry,@sentry/nextjs,Faible,Moyenne,Non,"Remplace 306 console.log, singleton"
src/lib/firebase-errors.ts,translateFirebaseError,Traduction erreurs Firebase FR,N/A,Faible,Faible,Non,40+ codes erreurs
src/lib/openfoodfacts.ts,searchFood,Client API Open Food Facts,fetch,Faible,Moyenne,Non,"Rate limit 100 req/min, 2M aliments"
src/lib/nutritional-database.ts,500+ aliments,Base données nutritionnelle locale,N/A,Faible,Faible,Non,Fallback si OFF API down
src/lib/garminParser.ts,parseGarminFile,Parser TCX/GPX Garmin,xml2js,Moyen,Élevée,Non,"Extraction GPS, HR, zones, cadence"
src/lib/chartDataTransformers.ts,Transformers données graphiques,Formatage données Recharts,"timestampToDateString, date-fns",Moyen,Moyenne,Non,"CRITIQUE: dépend de timestampToDateString"
src/lib/caloriesCalculator.ts,calculateCaloriesBurned,Calcul dépense calorique (MET),N/A,Faible,Faible,Non,Formules MET standards
src/lib/coachComments.ts,CRUD commentaires coach,Commentaires coach par module,Firestore,Faible,Faible,Non,"4 modules: diete, entrainements, journal, mesures"
src/lib/inviteUtils.ts,generateInviteCode,Génération codes invitation,crypto,Faible,Faible,Non,Codes 8 caractères alphanumériques
src/lib/utils.ts,Utilitaires divers,"cn (classNames), formatters",clsx,Faible,Faible,Non,Helpers UI
src/lib/vitals.ts,reportWebVitals,Web Vitals monitoring,web-vitals,Faible,Faible,Non,"CLS, FCP, FID, LCP, TTFB"
src/components/auth/AuthGuard.tsx,AuthGuard,Protection routes authentifiées,"useAuth, router",Moyen,Moyenne,Non (CRITIQUE),"0% tests, composant CRITIQUE pour sécurité!"
src/components/mobile/QuickMealModal.tsx,QuickMealModal,Ajout repas rapide (<30s),useFirestore,Moyen,Moyenne,Non,Template repas fréquents
src/components/mobile/QuickTrainingModal.tsx,QuickTrainingModal,Ajout training rapide (<45s),useFirestore,Moyen,Moyenne,Non,Templates cardio/muscu
src/components/ui/StandardModal.tsx,StandardModal,Modal standardisée réutilisable,"useFocusTrap, useAriaAnnouncer",Faible,Faible,Non,"Border white/70, glass effect"
src/components/ui/ProgressHeader.tsx,ProgressHeader,Header métriques + période + conseils,N/A,Faible,Faible,Non,"Composant universel, 5/5 pages standardisées"
src/components/ui/ClickableCard.tsx,ClickableCard,Card avec actions séparées,N/A,Faible,Faible,Non,"Voir/Éditer/Supprimer, variants couleur"
src/components/ui/HealthIndicator.tsx,HealthIndicator,Zones santé OMS (IMC),N/A,Faible,Faible,Non,"Sous-poids, normal, surpoids, obésité"
src/components/charts/*,6 composants graphiques,"LineChart, BarChart, AreaChart",recharts,Faible,Moyenne,Non,"Dynamic imports, responsive mobile"
src/lib/security/RateLimiter.ts,RateLimiterFactory,Rate limiting middleware,Map (in-memory),Faible,Moyenne,Non,"100 req/h API, 20 créations/h auth"