# ðŸš¨ SENTRY ALERTS CONFIGURATION - SUPERNOVAFIT
# Configuration des alertes automatiques pour monitoring production

alerts:
  # ðŸ”´ High Error Rate - Critique
  - name: "High Error Rate - SuperNovaFit"
    conditions:
      - id: "error_rate"
        value: 10 # Plus de 10 erreurs en 5 minutes
        interval: "5m"
    actions:
      - id: "email"
        targetType: "team"
        target: "supernovafit-alerts@example.com"
      - id: "slack"
        channel: "#alerts"
        webhook: "https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK"

  # âš¡ Performance Degradation - Important
  - name: "Performance Degradation - LCP"
    conditions:
      - id: "p95_transaction_duration"
        value: 3000 # LCP > 3 secondes
        interval: "10m"
    actions:
      - id: "email"
        targetType: "team"
        target: "supernovafit-performance@example.com"

  # ðŸ§  Memory Leak Detection - PrÃ©ventif
  - name: "Memory Leak Detection"
    conditions:
      - id: "memory_usage"
        value: 512 # > 512MB
        interval: "30m"
    actions:
      - id: "email"
        targetType: "team"
        target: "supernovafit-dev@example.com"

  # ðŸ“Š Web Vitals Poor - UX Critique
  - name: "Web Vitals Poor - CLS"
    conditions:
      - id: "cls_score"
        value: 0.25 # CLS > 0.25 (Poor)
        interval: "15m"
    actions:
      - id: "email"
        targetType: "team"
        target: "supernovafit-ux@example.com"

  # ðŸ”¥ Critical Errors - Bloquant
  - name: "Critical Errors - Auth/Firebase"
    conditions:
      - id: "error_type"
        value: ["auth_error", "firebase_error", "payment_error"]
        interval: "2m"
    actions:
      - id: "email"
        targetType: "team"
        target: "supernovafit-critical@example.com"
      - id: "slack"
        channel: "#critical-alerts"
        webhook: "https://hooks.slack.com/services/YOUR/CRITICAL/WEBHOOK"

# ðŸ“§ Configuration Email
email:
  from: "alerts@supernovafit.com"
  replyTo: "dev-team@supernovafit.com"
  subject: "[SuperNovaFit Alert] {alert_name} - {environment}"

# ðŸ”” Configuration Notifications
notifications:
  # FrÃ©quence maximale pour Ã©viter spam
  rateLimit: "1h" # Max 1 alerte par heure par type

  # Escalation automatique
  escalation:
    - delay: "15m"
      action: "email"
      target: "supernovafit-manager@example.com"
    - delay: "1h"
      action: "slack"
      channel: "#management-alerts"

# ðŸŽ¯ Filtres par environnement
environments:
  production:
    enabled: true
    severity: ["critical", "high", "medium"]
  staging:
    enabled: true
    severity: ["critical", "high"]
  development:
    enabled: false
