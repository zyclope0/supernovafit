@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* === DESIGN TOKENS CENTRALISÉS === */
    
    /* Couleurs de base */
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --primary: 210 40% 98%;
    --primary-foreground: 222.2 84% 4.9%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
    
    /* === PALETTE NEON CENTRALISÉE === */
    /* Pour changer de thème, modifier SEULEMENT ces valeurs */
    --neon-purple: #a855f7;
    --neon-pink: #ec4899;
    --neon-blue: #3b82f6;
    --neon-cyan: #06b6d4;
    --neon-green: #10b981;
    --neon-yellow: #eab308;
    --neon-orange: #f97316;
    --neon-red: #ef4444;
    
    /* === COULEURS SÉMANTIQUES === */
    /* Couleurs avec signification métier */
    --color-success: var(--neon-green);
    --color-warning: var(--neon-yellow);
    --color-error: var(--neon-red);
    --color-info: var(--neon-cyan);
    --color-primary: var(--neon-purple);
    --color-secondary: var(--neon-pink);
    
    /* === TRANSPARENCES STANDARDISÉES === */
    --glass-bg: rgba(255, 255, 255, 0.08);
    --glass-bg-high: rgba(255, 255, 255, 0.12);
    --glass-bg-dark: rgba(0, 0, 0, 0.20);
    --glass-border: rgba(255, 255, 255, 0.15);
    --glass-border-high: rgba(255, 255, 255, 0.20);
    --glass-border-dark: rgba(255, 255, 255, 0.10);
    
    /* === COULEURS DE TEXTE === */
    --text-primary: #ffffff;
    --text-secondary: #9ca3af;
    --text-muted: #6b7280;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
  }
}

@layer components {
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .glow-purple {
    @apply shadow-[0_0_20px_theme(colors.neon.purple)] hover:shadow-[0_0_30px_theme(colors.neon.purple)];
  }
  
  .glow-cyan {
    @apply shadow-[0_0_20px_theme(colors.neon.cyan)] hover:shadow-[0_0_30px_theme(colors.neon.cyan)];
  }
  
  .glow-pink {
    @apply shadow-[0_0_20px_theme(colors.neon.pink)] hover:shadow-[0_0_30px_theme(colors.neon.pink)];
  }
  
  .gradient-border {
    @apply relative;
    background-clip: padding-box;
    border: 2px solid transparent;
    background-image: linear-gradient(#0a0e1a, #0a0e1a), 
                      linear-gradient(45deg, theme(colors.neon.purple), theme(colors.neon.cyan));
    background-origin: border-box;
    background-clip: padding-box, border-box;
  }
  
  /* === EFFETS GLASS STANDARDISÉS === */
  .glass-effect {
    background: var(--glass-bg);
    backdrop-filter: blur(24px);
    border: 1px solid var(--glass-border);
  }

  .glass-effect-high {
    background: var(--glass-bg-high);
    backdrop-filter: blur(24px);
    border: 1px solid var(--glass-border-high);
  }

  .glass-effect-dark {
    background: var(--glass-bg-dark);
    backdrop-filter: blur(24px);
    border: 1px solid var(--glass-border-dark);
  }
  
  .neon-text {
    @apply text-transparent bg-clip-text bg-gradient-to-r from-neon-purple to-neon-cyan;
  }

  /* === COULEURS SÉMANTIQUES === */
  .text-success { color: var(--color-success); }
  .text-warning { color: var(--color-warning); }
  .text-error { color: var(--color-error); }
  .text-info { color: var(--color-info); }
  .text-primary { color: var(--color-primary); }
  .text-secondary { color: var(--color-secondary); }

  .bg-success { background-color: var(--color-success); }
  .bg-warning { background-color: var(--color-warning); }
  .bg-error { background-color: var(--color-error); }
  .bg-info { background-color: var(--color-info); }
  .bg-primary { background-color: var(--color-primary); }
  .bg-secondary { background-color: var(--color-secondary); }

  .border-success { border-color: var(--color-success); }
  .border-warning { border-color: var(--color-warning); }
  .border-error { border-color: var(--color-error); }
  .border-info { border-color: var(--color-info); }
  .border-primary { border-color: var(--color-primary); }
  .border-secondary { border-color: var(--color-secondary); }

  .select-dark {
    color: white !important;
    background-color: rgba(255, 255, 255, 0.1) !important;
  }

  .select-dark option {
    background-color: #1e293b !important;
    color: white !important;
    padding: 8px 12px;
  }

  /* Classes d'accessibilité améliorées - WCAG AA compliance */
  .text-accessible {
    @apply text-white/95; /* Contraste très élevé : 90% → 95% */
  }

  .text-accessible-secondary {
    @apply text-white/80; /* Contraste bon : 75% → 80% */
  }

  .text-accessible-tertiary {
    @apply text-white/65; /* Contraste minimum WCAG : 60% → 65% */
  }

  /* Focus amélioré pour l'accessibilité */
  .focus-accessible {
    @apply focus:outline-none focus:ring-2 focus:ring-neon-cyan focus:ring-offset-2 focus:ring-offset-space-900;
  }

  /* Navigation clavier améliorée */
  .keyboard-navigation {
    @apply focus-accessible;
  }

  /* Boutons avec accessibilité */
  .btn-accessible {
    @apply focus-accessible transition-all duration-200;
  }

  /* Liens avec accessibilité */
  .link-accessible {
    @apply focus-accessible underline decoration-dotted underline-offset-4;
  }

  /* Boutons disabled avec contraste amélioré */
  .btn-disabled {
    @apply opacity-60 cursor-not-allowed; /* 60% au lieu de 30-40% standard */
  }

  /* États hover avec contraste préservé */
  .glass-hover {
    transition: all 0.2s ease;
    /* Hover plus visible : +4% bg, +10% border */
  }
  
  .glass-hover:hover {
    background: rgba(255, 255, 255, 0.12) !important;
    border-color: rgba(255, 255, 255, 0.25) !important;
  }
}

/* Accessibilité: anneau de focus néon et scrollbar fine utilitaire */
:root { 
  --focus-ring: 0 0 0 3px rgba(6, 182, 212, 0.7); /* Contraste renforcé : 0.5 → 0.7 */
  --focus-ring-purple: 0 0 0 3px rgba(147, 51, 234, 0.7); /* Focus alternatif renforcé */
  --focus-ring-high: 0 0 0 4px rgba(6, 182, 212, 0.8); /* Focus très visible */
}

/* Focus visible amélioré avec contraste WCAG AA */
*:focus-visible { 
  outline: none !important; 
  box-shadow: var(--focus-ring) !important; 
  border-color: rgba(6,182,212,.8) !important; /* Contraste renforcé : .7 → .8 */
}

/* Focus critique pour éléments interactifs importants */
.focus-critical:focus-visible {
  box-shadow: var(--focus-ring-high) !important;
  border-color: rgba(6,182,212,.9) !important;
}

/* Focus pour éléments avec couleurs néon */
.btn-neon:focus-visible {
  box-shadow: var(--focus-ring-purple) !important;
  border-color: rgba(147,51,234,.7) !important;
}

/* Amélioration du contraste pour les textes */
.text-muted-foreground {
  @apply text-accessible;
}

/* Scrollbar fine utilitaire */
.scrollbar-thin::-webkit-scrollbar{ height:6px; width:6px; }
.scrollbar-thin::-webkit-scrollbar-thumb{ background: rgba(255,255,255,.3); border-radius:8px; }

/* Scrollbar personnalisée */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: theme(colors.space.900);
}

::-webkit-scrollbar-thumb {
  background: theme(colors.space.600);
  border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
  background: theme(colors.space.500);
}

/* Amélioration de l'accessibilité pour les éléments interactifs */
button, a, input, select, textarea {
  @apply focus-accessible;
}

/* Amélioration du contraste pour les icônes */
.icon-accessible {
  @apply text-accessible;
}

/* Amélioration du contraste pour les badges et étiquettes */
.badge-accessible {
  @apply bg-white/10 text-accessible border border-white/20;
}

/* Amélioration du contraste pour les tooltips et infobulles */
.tooltip-accessible {
  @apply bg-space-800 text-accessible border border-white/20 shadow-lg;
}

/* Amélioration de la navigation clavier */
.nav-accessible {
  @apply focus-accessible;
}

.nav-accessible:focus {
  @apply bg-white/10 border border-neon-cyan/50;
}

/* Amélioration des modales pour l'accessibilité */
.modal-accessible {
  @apply focus-accessible;
}

.modal-accessible:focus {
  @apply ring-2 ring-neon-cyan ring-offset-2 ring-offset-space-900;
}

/* Amélioration des formulaires pour l'accessibilité */
.form-accessible input,
.form-accessible select,
.form-accessible textarea {
  @apply focus-accessible border-white/20;
}

.form-accessible input:focus,
.form-accessible select:focus,
.form-accessible textarea:focus {
  @apply border-neon-cyan/50 bg-white/5;
}

/* Amélioration des listes pour l'accessibilité */
.list-accessible {
  @apply focus-accessible;
}

.list-accessible li:focus {
  @apply bg-white/5 border border-neon-cyan/30;
}

/* Amélioration des cartes pour l'accessibilité */
.card-accessible {
  @apply focus-accessible;
}

.card-accessible:focus {
  @apply ring-2 ring-neon-cyan/50 ring-offset-2 ring-offset-space-900;
}

/* Sliders optimisés pour le modal */
.slider-neon-green::-webkit-slider-thumb {
  @apply appearance-none w-4 h-4 rounded-full cursor-pointer;
  background-color: #10b981;
}

.slider-neon-yellow::-webkit-slider-thumb {
  @apply appearance-none w-4 h-4 rounded-full cursor-pointer;
  background-color: #eab308;
}

.slider-neon-red::-webkit-slider-thumb {
  @apply appearance-none w-4 h-4 rounded-full cursor-pointer;
  background-color: #ef4444;
}

.slider-neon-purple::-webkit-slider-thumb {
  @apply appearance-none w-4 h-4 rounded-full cursor-pointer;
  background-color: #a855f7;
}

.slider-neon-cyan::-webkit-slider-thumb {
  @apply appearance-none w-4 h-4 rounded-full cursor-pointer;
  background-color: #06b6d4;
} 